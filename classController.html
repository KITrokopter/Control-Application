<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>KITrokopter API: Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">KITrokopter API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classController-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Controller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Central class for controlling Quadcopter.  
 <a href="classController.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Controller_8hpp_source.html">Controller.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Controller:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classController.png" usemap="#Controller_map" alt=""/>
  <map id="Controller_map" name="Controller_map">
<area href="classIPositionReceiver.html" title="An interface for classes that want to receive the position data from the tracking system..." alt="IPositionReceiver" shape="rect" coords="0,0,110,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95c56822d667e94b031451729ce069a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a95c56822d667e94b031451729ce069a9">Controller</a> ()</td></tr>
<tr class="memdesc:a95c56822d667e94b031451729ce069a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of <a class="el" href="classController.html" title="Central class for controlling Quadcopter. ">Controller</a>.  <a href="#a95c56822d667e94b031451729ce069a9">More...</a><br/></td></tr>
<tr class="separator:a95c56822d667e94b031451729ce069a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d5755bc8fed07cebd88f857f0f83df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a28d5755bc8fed07cebd88f857f0f83df">initialize</a> ()</td></tr>
<tr class="memdesc:a28d5755bc8fed07cebd88f857f0f83df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization after the system has been started globally.  <a href="#a28d5755bc8fed07cebd88f857f0f83df">More...</a><br/></td></tr>
<tr class="separator:a28d5755bc8fed07cebd88f857f0f83df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967354d38ca18a61ca20e059a55ab9aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a967354d38ca18a61ca20e059a55ab9aa">setTrackingArea</a> (<a class="el" href="classTrackingArea.html">TrackingArea</a> area)</td></tr>
<tr class="memdesc:a967354d38ca18a61ca20e059a55ab9aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter for the Tracking Area.  <a href="#a967354d38ca18a61ca20e059a55ab9aa">More...</a><br/></td></tr>
<tr class="separator:a967354d38ca18a61ca20e059a55ab9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1818e613204cc0cba38cc072f4d02223"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a1818e613204cc0cba38cc072f4d02223">setTargetPosition</a> ()</td></tr>
<tr class="memdesc:a1818e613204cc0cba38cc072f4d02223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the new Targets considering the previous targets and the formation movement vector (without orientation right now)  <a href="#a1818e613204cc0cba38cc072f4d02223">More...</a><br/></td></tr>
<tr class="separator:a1818e613204cc0cba38cc072f4d02223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec7ec37c04574302e02725e6fe85664"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#aaec7ec37c04574302e02725e6fe85664">updatePositions</a> (std::vector&lt; <a class="el" href="classVector.html">Vector</a> &gt; positions, std::vector&lt; int &gt; ids, std::vector&lt; int &gt; updates)</td></tr>
<tr class="memdesc:aaec7ec37c04574302e02725e6fe85664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the current Position of the crazyflies.  <a href="#aaec7ec37c04574302e02725e6fe85664">More...</a><br/></td></tr>
<tr class="separator:aaec7ec37c04574302e02725e6fe85664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a38e6ab5bc1719d182edf94da00bca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a03a38e6ab5bc1719d182edf94da00bca">sendMovementAll</a> ()</td></tr>
<tr class="memdesc:a03a38e6ab5bc1719d182edf94da00bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates all the Ros messages for the movement of each quadcopter and sends this to the quadcopter modul.  <a href="#a03a38e6ab5bc1719d182edf94da00bca">More...</a><br/></td></tr>
<tr class="separator:a03a38e6ab5bc1719d182edf94da00bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f34938eb91f955a1c7ee015cbe16d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a95f34938eb91f955a1c7ee015cbe16d2">sendMovement</a> (int internId)</td></tr>
<tr class="memdesc:a95f34938eb91f955a1c7ee015cbe16d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates all the Ros messages for the movement of each quadcopter and sends this to the quadcopter modul.  <a href="#a95f34938eb91f955a1c7ee015cbe16d2">More...</a><br/></td></tr>
<tr class="separator:a95f34938eb91f955a1c7ee015cbe16d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055717092c670675422b4dbe0f9c1891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a055717092c670675422b4dbe0f9c1891">calculateMovement</a> ()</td></tr>
<tr class="memdesc:a055717092c670675422b4dbe0f9c1891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controlls the behaviour of the quadcopters.  <a href="#a055717092c670675422b4dbe0f9c1891">More...</a><br/></td></tr>
<tr class="separator:a055717092c670675422b4dbe0f9c1891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf987fbf3c82dd1555a6710873788047"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#acf987fbf3c82dd1555a6710873788047">buildFormation</a> ()</td></tr>
<tr class="memdesc:acf987fbf3c82dd1555a6710873788047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds <a class="el" href="classFormation.html" title="Class used for handling formation-movement. ">Formation</a> by starting one quadcopter after another, finding the right position and then inclining a little to avoid collisions.  <a href="#acf987fbf3c82dd1555a6710873788047">More...</a><br/></td></tr>
<tr class="separator:acf987fbf3c82dd1555a6710873788047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49912af0e0a91e8b96d4cdbe8a1de902"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a49912af0e0a91e8b96d4cdbe8a1de902">rotateFormation</a> (control_application::Rotation::Request &amp;req, control_application::Rotation::Response &amp;res)</td></tr>
<tr class="separator:a49912af0e0a91e8b96d4cdbe8a1de902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a375d0213acf5caf9c0c8565903870374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a375d0213acf5caf9c0c8565903870374">rotate</a> ()</td></tr>
<tr class="separator:a375d0213acf5caf9c0c8565903870374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b84f82b4d2d0d4e99779b452b53dff2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a1b84f82b4d2d0d4e99779b452b53dff2">startBuildFormation</a> (control_application::BuildFormation::Request &amp;req, control_application::BuildFormation::Response &amp;res)</td></tr>
<tr class="separator:a1b84f82b4d2d0d4e99779b452b53dff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f8da155290a85859051391495d80a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#ad0f8da155290a85859051391495d80a5">setQuadcopters</a> (control_application::SetQuadcopters::Request &amp;req, control_application::SetQuadcopters::Response &amp;res)</td></tr>
<tr class="separator:ad0f8da155290a85859051391495d80a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de8fefd2c069645375c0dfa06a54738"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a8de8fefd2c069645375c0dfa06a54738">shutdown</a> (control_application::Shutdown::Request &amp;req, control_application::Shutdown::Response &amp;res)</td></tr>
<tr class="separator:a8de8fefd2c069645375c0dfa06a54738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb9acb2d4ebfff177f4451fd922d07d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a5cb9acb2d4ebfff177f4451fd922d07d">shutdownFormation</a> ()</td></tr>
<tr class="separator:a5cb9acb2d4ebfff177f4451fd922d07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93421788e1b1b0d3ca45dfbfbd6b1af0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a93421788e1b1b0d3ca45dfbfbd6b1af0">getLocalId</a> (int globalId)</td></tr>
<tr class="separator:a93421788e1b1b0d3ca45dfbfbd6b1af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e360b67a4e393a010ab255fa797d39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a65e360b67a4e393a010ab255fa797d39">checkInput</a> (int internId)</td></tr>
<tr class="separator:a65e360b67a4e393a010ab255fa797d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34da827350e027b4481e53fe10e7b452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a34da827350e027b4481e53fe10e7b452">emergencyRoutine</a> (std::string message, int internId)</td></tr>
<tr class="separator:a34da827350e027b4481e53fe10e7b452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b4a7e719bc2b725ca67841d5bbcb5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a17b4a7e719bc2b725ca67841d5bbcb5f">emergencyShutdownRoutine</a> (std::string message)</td></tr>
<tr class="separator:a17b4a7e719bc2b725ca67841d5bbcb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f0ed840cdce1a40f284a3b608217c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a36f0ed840cdce1a40f284a3b608217c6">searchNeighbor</a> (double *target, bool *ids)</td></tr>
<tr class="separator:a36f0ed840cdce1a40f284a3b608217c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a65964af684d6dc178f29a078066a5718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a65964af684d6dc178f29a078066a5718">moveFormationCallback</a> (const api_application::MoveFormation::ConstPtr &amp;msg)</td></tr>
<tr class="separator:a65964af684d6dc178f29a078066a5718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56259ccfa8a6acbb932149a7ec771222"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a56259ccfa8a6acbb932149a7ec771222">setFormationCallback</a> (const api_application::SetFormation::ConstPtr &amp;msg)</td></tr>
<tr class="separator:a56259ccfa8a6acbb932149a7ec771222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1958bc9178614e3f79212c7b9f78e5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#ac1958bc9178614e3f79212c7b9f78e5f">quadStatusCallback</a> (const quadcopter_application::quadcopter_status::ConstPtr &amp;msg, int topicNr)</td></tr>
<tr class="separator:ac1958bc9178614e3f79212c7b9f78e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9763c072f797622dc19545f6b922b9b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a9763c072f797622dc19545f6b922b9b8">systemCallback</a> (const api_application::System::ConstPtr &amp;msg)</td></tr>
<tr class="separator:a9763c072f797622dc19545f6b922b9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a83c41beb69b78a7a55e29554260a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#ad2a83c41beb69b78a7a55e29554260a2">dontMove</a> (int internId)</td></tr>
<tr class="separator:ad2a83c41beb69b78a7a55e29554260a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb80302b22fcf9e364208673fa85e2f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#aeb80302b22fcf9e364208673fa85e2f4">moveUp</a> (int internId)</td></tr>
<tr class="separator:aeb80302b22fcf9e364208673fa85e2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b039b6a57e1ce3d442431e85b543d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a42b039b6a57e1ce3d442431e85b543d2">stabilize</a> (int internId)</td></tr>
<tr class="separator:a42b039b6a57e1ce3d442431e85b543d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66eb02bac48f291669f534acefbc623"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#aa66eb02bac48f291669f534acefbc623">land</a> (int internId, int *nrLand)</td></tr>
<tr class="separator:aa66eb02bac48f291669f534acefbc623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea81483a01f8b578aa9f24827552ad3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#abea81483a01f8b578aa9f24827552ad3">hold</a> (int internId)</td></tr>
<tr class="separator:abea81483a01f8b578aa9f24827552ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Central class for controlling Quadcopter. </p>
<p>Receiving, calculating and sending data.</p>
<dl class="section author"><dt>Author</dt><dd>Carina Kübler </dd>
<dd>
Dominik Kiefer </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a95c56822d667e94b031451729ce069a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::Controller </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of <a class="el" href="classController.html" title="Central class for controlling Quadcopter. ">Controller</a>. </p>
<p>Sets all control variable on false, sets up all the Ros functions, and initializes helper variables. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acf987fbf3c82dd1555a6710873788047"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::buildFormation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds <a class="el" href="classFormation.html" title="Class used for handling formation-movement. ">Formation</a> by starting one quadcopter after another, finding the right position and then inclining a little to avoid collisions. </p>
<p>So there is a "being tracked" and "moving" level, and a "standing still" at the right position level. </p>

</div>
</div>
<a class="anchor" id="a055717092c670675422b4dbe0f9c1891"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::calculateMovement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controlls the behaviour of the quadcopters. </p>
<p>Each quadcopter has a status according to which different functions are called to set/calculate the movement data considering different situations of the quadcopters. If the quadcopter is out of tracking area or has a low battery status, checkInput will detect the problem and react respectivly. After calculating the movement data considering the quadcopter status the data is sent to the quadcopter. Routine runs till shutdown formaiton is called. </p>

</div>
</div>
<a class="anchor" id="a65e360b67a4e393a010ab255fa797d39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Controller::checkInput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2a83c41beb69b78a7a55e29554260a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::dontMove </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a34da827350e027b4481e53fe10e7b452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::emergencyRoutine </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a17b4a7e719bc2b725ca67841d5bbcb5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::emergencyShutdownRoutine </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a93421788e1b1b0d3ca45dfbfbd6b1af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::getLocalId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>globalId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abea81483a01f8b578aa9f24827552ad3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::hold </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a28d5755bc8fed07cebd88f857f0f83df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization after the system has been started globally. </p>
<p><a class="el" href="classController.html" title="Central class for controlling Quadcopter. ">Controller</a> announces itself to API to get a global ID. </p>

</div>
</div>
<a class="anchor" id="aa66eb02bac48f291669f534acefbc623"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::land </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nrLand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a65964af684d6dc178f29a078066a5718"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::moveFormationCallback </td>
          <td>(</td>
          <td class="paramtype">const api_application::MoveFormation::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aeb80302b22fcf9e364208673fa85e2f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::moveUp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1958bc9178614e3f79212c7b9f78e5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::quadStatusCallback </td>
          <td>(</td>
          <td class="paramtype">const quadcopter_application::quadcopter_status::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>topicNr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a375d0213acf5caf9c0c8565903870374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::rotate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49912af0e0a91e8b96d4cdbe8a1de902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Controller::rotateFormation </td>
          <td>(</td>
          <td class="paramtype">control_application::Rotation::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">control_application::Rotation::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a36f0ed840cdce1a40f284a3b608217c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::searchNeighbor </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95f34938eb91f955a1c7ee015cbe16d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::sendMovement </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates all the Ros messages for the movement of each quadcopter and sends this to the quadcopter modul. </p>

</div>
</div>
<a class="anchor" id="a03a38e6ab5bc1719d182edf94da00bca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::sendMovementAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates all the Ros messages for the movement of each quadcopter and sends this to the quadcopter modul. </p>

</div>
</div>
<a class="anchor" id="a56259ccfa8a6acbb932149a7ec771222"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::setFormationCallback </td>
          <td>(</td>
          <td class="paramtype">const api_application::SetFormation::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad0f8da155290a85859051391495d80a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Controller::setQuadcopters </td>
          <td>(</td>
          <td class="paramtype">control_application::SetQuadcopters::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">control_application::SetQuadcopters::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1818e613204cc0cba38cc072f4d02223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::setTargetPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the new Targets considering the previous targets and the formation movement vector (without orientation right now) </p>

</div>
</div>
<a class="anchor" id="a967354d38ca18a61ca20e059a55ab9aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::setTrackingArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTrackingArea.html">TrackingArea</a>&#160;</td>
          <td class="paramname"><em>area</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter for the Tracking Area. </p>
<p>Executed by matlab modul. </p>

<p>Implements <a class="el" href="classIPositionReceiver.html#a9e686bed03e81df3afece48ad90b0fef">IPositionReceiver</a>.</p>

</div>
</div>
<a class="anchor" id="a8de8fefd2c069645375c0dfa06a54738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Controller::shutdown </td>
          <td>(</td>
          <td class="paramtype">control_application::Shutdown::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">control_application::Shutdown::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5cb9acb2d4ebfff177f4451fd922d07d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::shutdownFormation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a42b039b6a57e1ce3d442431e85b543d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::stabilize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>internId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b84f82b4d2d0d4e99779b452b53dff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Controller::startBuildFormation </td>
          <td>(</td>
          <td class="paramtype">control_application::BuildFormation::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">control_application::BuildFormation::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9763c072f797622dc19545f6b922b9b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::systemCallback </td>
          <td>(</td>
          <td class="paramtype">const api_application::System::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaec7ec37c04574302e02725e6fe85664"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Controller::updatePositions </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classVector.html">Vector</a> &gt;&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>updates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updating the current Position of the crazyflies. </p>
<p>Calles by the position modul with new/current position data. Number of new positions can vary accordingly to the newly calculated positions. </p>

<p>Implements <a class="el" href="classIPositionReceiver.html#a2206f38bb190d49179a2f0330af55507">IPositionReceiver</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/controller/<a class="el" href="Controller_8hpp_source.html">Controller.hpp</a></li>
<li>src/controller/<a class="el" href="Controller_8cpp.html">Controller.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 17 2014 15:15:05 for KITrokopter API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
